<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Image Dedup</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <style>
      .img-thumbnail {
        max-height: 200px;
      }
      .img-group {
        border-bottom: 1px solid var(--bs-border-color);
        padding: 20px 0;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">{{ path }}</a>
          <ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul>
          <input type="text" class="form-control" style="max-width: 100px; margin-right: 10px;" v-model="distance"/>
          <button class="btn btn-success" type="button" @click="analyze" :disabled="progress">
            <span v-if="progress" class="spinner-border spinner-border-sm" aria-hidden="true"></span>
            <span v-if="progress" role="status">Analyzing...</span>
            <span v-if="!progress">Analyze</span>
          </button>
        </div>
      </nav>
      <div class="container py-5">
        <div v-if="!similarImages" class="row row-cols-auto gy-4">
          <div class="col" v-for="src of images">
            <img class="img-thumbnail" :src="`image?path=${src}`" :title="src"/>
          </div>
        </div>
        <div v-if="similarImages">
          <div class="row row-cols-auto img-group" v-for="group of similarImages">
            <span class="col" v-for="src of group">
              <img class="img-thumbnail" :src="`image?path=${src}`" :title="src"/>
            </span>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="/static/vue.global.js"></script>
    <script src="/static/app.js"></script>
  </body>
</html>
